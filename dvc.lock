schema: '2.0'
stages:
  data_loader:
    cmd: python -m src.main --stage data_loader
    deps:
    - path: data/clean/steel_energy_cleaned_V2.csv
      hash: md5
      md5: 3c90e04e716f464f74335febcb79a6b9
      size: 5738756
    - path: src/data/data_loader.py
      hash: md5
      md5: 53c324096d96894a2459eb7dcf250cc2
      size: 3240
    outs:
    - path: data/processed/steel_energy_processed.csv
      hash: md5
      md5: 20d922c8c5d37fbae386e4943dff8af6
      size: 2563941
  feature_engineering:
    cmd: python -m src.main --stage feature_engineering
    deps:
    - path: data/processed/steel_energy_processed.csv
      hash: md5
      md5: 20d922c8c5d37fbae386e4943dff8af6
      size: 2563941
    - path: src/data/feature_engineer.py
      hash: md5
      md5: 44e71be9c8aa3777566b08ca1ef0d3ea
      size: 2515
    outs:
    - path: data/interim/features.csv
      hash: md5
      md5: 44e687e98efdda7ac61c667cfca15253
      size: 1676057
  train_xgboost:
    cmd: python -m src.main --stage train_xgboost
    deps:
    - path: data/interim/features.csv
      hash: md5
      md5: 44e687e98efdda7ac61c667cfca15253
      size: 1676057
    - path: src/models/xgboost_model/model_trainer.py
      hash: md5
      md5: 7b8deb59320886da1a0398eb2a80a4e8
      size: 2768
    params:
      params.yaml:
        train.colsample_bytree: 0.8
        train.cv_folds: 5
        train.eval_metric: rmse
        train.learning_rate: 0.1
        train.max_depth: 6
        train.n_estimators: 200
        train.random_state: 42
        train.subsample: 0.8
    outs:
    - path: models/xgboost_model/artifacts/model.json
      hash: md5
      md5: c4aa85a144a9fad410ccf2b4e7ab41d6
      size: 1210109
  train:
    cmd: python -m src.main --stage train
    deps:
    - path: data/interim/features.csv
      hash: md5
      md5: 44e687e98efdda7ac61c667cfca15253
      size: 1676057
    - path: src/models/linear_regression_model/model_trainer.py
      hash: md5
      md5: a55f32d9839eb1cb69b4a89e418ae2df
      size: 3893
    - path: src/models/random_forest_model/model_trainer.py
      hash: md5
      md5: 1b5c65591f06ba534e63779c25422fe4
      size: 3888
    - path: src/models/xgboost_model/model_trainer.py
      hash: md5
      md5: d6931d69f86b9e3d932b87ec987a466a
      size: 4149
    params:
      params.yaml:
        train.cv_folds: 5
        train.linear_regression.fit_intercept: true
        train.linear_regression.n_jobs:
        train.model_type: linear_regression
        train.random_forest.max_depth:
        train.random_forest.max_features:
        train.random_forest.min_samples_leaf: 1
        train.random_forest.min_samples_split: 2
        train.random_forest.n_estimators: 300
        train.random_forest.n_jobs: -1
        train.random_forest.random_state: 42
        train.xgboost.colsample_bytree: 0.8
        train.xgboost.eval_metric: rmse
        train.xgboost.learning_rate: 0.1
        train.xgboost.max_depth: 6
        train.xgboost.n_estimators: 200
        train.xgboost.n_jobs: -1
        train.xgboost.random_state: 42
        train.xgboost.subsample: 0.8
    outs:
    - path: models/current/
      hash: md5
      md5: 53ab9fbf033673aca72a45d60302366b.dir
      size: 1233
      nfiles: 1
